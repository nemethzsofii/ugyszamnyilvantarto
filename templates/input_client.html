{% extends "layout.html" %} {% block title %}Új Ügyfél - Jogügyleti
Nyilvántartó{% endblock %} {% block content %}
<h1 class="text-center mb-5">Új Ügyfél Felvétele</h1>

<div class="row g-4 justify-content-center">
  <div class="card shadow-sm col-md-6">
    <div class="card-body">
      <h5 class="card-title mb-3">Ügyfél adatai</h5>

      {% if message %}
      <div class="alert alert-success">{{ message }}</div>
      {% endif %} {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
      {% endif %}

      <form id="clientForm" method="post">
        <!-- Client Type -->
        <div class="mb-4">
          <label class="form-label d-block">Ügyféltípus</label>

          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="client_type"
              id="typePerson"
              value="PERSON"
              checked
            />
            <label class="form-check-label" for="typePerson"> Személy </label>
          </div>

          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="client_type"
              id="typeCompany"
              value="COMPANY"
            />
            <label class="form-check-label" for="typeCompany"> Cég </label>
          </div>
        </div>

        <!-- Common Fields -->
        <div class="mb-3">
          <label class="form-label">Ügyfél kód</label>
          <input
            class="form-control"
            type="text"
            name="client_code"
            placeholder="Ügyfél kód megadása"
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Név</label>
          <input
            class="form-control"
            type="text"
            name="name"
            placeholder="Ügyfél neve"
            required
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Adószám</label>
          <input
            class="form-control"
            type="text"
            name="tax_number"
            placeholder="Adószám"
          />
        </div>

        <!-- Person Fields -->
        <div id="personFields">
          <div class="mb-3">
            <label class="form-label">Születési dátum</label>
            <input class="form-control" type="date" name="birth_date" />
          </div>

          <div class="mb-3">
            <label class="form-label">Cím</label>
            <input
              class="form-control"
              type="text"
              name="address"
              placeholder="Lakcím"
            />
          </div>
        </div>

        <!-- Company Fields -->
        <div id="companyFields" style="display: none">
          <div class="mb-3">
            <label class="form-label">Székhely</label>
            <input
              class="form-control"
              type="text"
              name="headquarters"
              placeholder="Cég székhelye"
            />
          </div>
        </div>
        <!-- Buttons -->
        <div class="d-flex gap-2 mt-4">
          <button type="submit" class="btn btn-primary flex-fill">
            Mentés
          </button>
          <button type="reset" class="btn btn-outline-secondary flex-fill">
            Törlés
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script>
  const typePerson = document.getElementById('typePerson');
  const typeCompany = document.getElementById('typeCompany');
  const personFields = document.getElementById('personFields');
  const companyFields = document.getElementById('companyFields');

  function toggleFields() {
    if (typePerson.checked) {
      personFields.style.display = 'block';
      companyFields.style.display = 'none';
    } else {
      personFields.style.display = 'none';
      companyFields.style.display = 'block';
    }
  }

  typePerson.addEventListener('change', toggleFields);
  typeCompany.addEventListener('change', toggleFields);
</script>
{% endblock %}
